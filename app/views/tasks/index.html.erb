<h1><%= t('task_list') %></h1>

<%= notice %>
<%= link_to t('task.new'), new_task_path %>

<%= search_form_for @q do |f| %>
  <%= f.label :title_cont, t('task.title') %>
  <%= f.search_field :title_cont %>
  <%= f.label :content_cont, t('task.content') %>
  <%= f.search_field :content_cont %>
  <%= f.submit t('button.search'), name: '' %>
<% end %>

<table>
  <tr>
    <td><%= t('task.id') %></td>
    <td><%= t('task.status') %></td>
    <td><%= t('task.title') %></td>
    <td><%= t('task.content') %></td>
    <td class='created_at'>
      <%= sort_link(@q, :created_at, t('task.created_at'), default_order: :desc) %>
    </td>
    <td><%= t('task.end_at') %></td>
  </tr>
</table>

<table>
  <% @tasks.each do |task| %>
    <tr>
      <td><%= task.id %></td>
      <td><%= t("#{task.status}") %></td>
      <td class='title'><%= task.title %></td>
      <td><%= task.content %></td>
      <td><%= task.created_at %></td>
      <td><%= task.end_at %></td>
      <td><%= link_to t('task.edit'), edit_task_path(task) %></td>
      <td>
        <%= link_to t('task.delete'),
                    task_path(task),
                    method: 'delete',
                    data: {confirm: t('notice.confirm')}
        %>
      </td>
    </tr>
  <% end %>
</table>
